---
import Sidebar from "./Sidebar.astro";
import { navigation } from "../navigation";
import cn from "../utils/cn";
import LogoIcon from "./icons/Logo.astro";
import isActiveLink from "../utils/is-active-link";

const currentPath = Astro.url.pathname;
---

<header class="border-b border-border/50">
  <div class="max-w-6xl mx-auto flex items-center justify-between p-4">
    <!-- Logo -->
    <a href="/" class="flex text-foreground gap-1">
      <LogoIcon class="size-10" />
      <span class="flex flex-col"
        ><span class="text-xl uppercase font-bold leading-[1]"
          >Harry Pearce</span
        >
        <span class="text-lg uppercase leading-[1]">Carpentry</span></span
      >
    </a>

    <!-- Navigation -->
    <nav class="hidden md:block">
      <ul class="flex justify-end gap-6">
        {
          navigation.map((link) => {
            const isActive = isActiveLink(currentPath, link);

            return (
              <li>
                <a
                  href={link.href}
                  class={cn(
                    "text-foreground hover:text-primary transition-colors border-b-2 border-transparent hover:border-primary leading-loose",
                    isActive && "text-primary border-primary"
                  )}
                >
                  {link.label}
                </a>
              </li>
            );
          })
        }
      </ul>
    </nav>
    <Sidebar />
  </div>
</header>
